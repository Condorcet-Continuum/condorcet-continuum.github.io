---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import logo from '../assets/logo-continuum.svg';

// R√©cup√©ration des articles de blog (Tri√©s par date)
import { getCollection } from 'astro:content';
const posts = (await getCollection('blog'))
  .sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
  .slice(0, 3);
---

<!doctype html>
<html lang="fr">
  <head>
    <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
  </head>
  <body class="bg-slate-50 text-slate-900 font-sans antialiased">
    <Header />

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
      <div class="flex flex-col items-center text-center mb-20 animate-fade-in">
        <div
          class="w-32 h-32 mb-8 p-4 bg-white rounded-2xl shadow-sm border border-slate-100 flex items-center justify-center"
        >
          <img
            src={logo.src}
            alt="Condorcet Continuum Logo"
            class="w-full h-full object-contain"
            width={logo.width}
            height={logo.height}
          />
        </div>

        <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight text-slate-900 mb-6">
          La D√©cision par la <br class="hidden md:block" />
          <span
            class="text-transparent bg-clip-text bg-linear-to-r from-rust via-orange-500 to-ethics"
            >Preuve</span
          >
        </h1>

        <p class="text-xl text-slate-600 max-w-2xl mb-10 leading-relaxed">
          Ne subissez plus l'IA. Orchestrez vos flux cognitifs avec une architecture
          <strong class="text-slate-900">locale</strong>, <strong class="text-slate-900"
            >syst√©mique</strong
          > et <strong class="text-slate-900">auditable</strong>.
        </p>

        <div class="flex flex-col sm:flex-row gap-4">
          <a
            href="/use-cases"
            class="px-8 py-3 rounded-full bg-slate-900 text-white font-bold hover:bg-rust transition-colors shadow-lg shadow-slate-900/20"
          >
            Voir les Cas d'Usage
          </a>
          <a
            href="/cognition"
            class="px-8 py-3 rounded-full bg-white text-slate-900 border border-slate-200 font-bold hover:bg-slate-50 transition-transform hover:scale-105"
          >
            Comprendre le Syst√®me
          </a>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-24">
        <a
          href="/cognition"
          class="group md:col-span-2 relative overflow-hidden rounded-3xl bg-slate-900 border border-slate-800 p-8 hover:shadow-2xl hover:border-rust/50 transition-all"
        >
          <div class="relative z-10">
            <div
              class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-rust text-white text-xs font-bold uppercase tracking-wider mb-4"
            >
              Syst√©mique
            </div>
            <h2 class="text-3xl font-bold text-white mb-2 group-hover:text-rust transition-colors">
              Le Bloc Cognitif
            </h2>
            <p class="text-slate-400 max-w-md">
              Plongez dans l'anatomie du syst√®me : Perception, Attention, M√©moire, Raisonnement...
              D√©couvrez comment les modules s'assemblent pour cr√©er une intelligence v√©rifiable.
            </p>
          </div>
          <div
            class="absolute right-0 top-0 w-64 h-64 bg-rust/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 group-hover:bg-rust/20 transition-colors"
          >
          </div>
          <div
            class="absolute bottom-4 right-4 text-6xl opacity-20 group-hover:scale-110 transition-transform grayscale group-hover:grayscale-0"
          >
            üß†
          </div>
        </a>

        <a
          href="/use-cases"
          class="group relative overflow-hidden rounded-3xl bg-white border border-slate-200 p-8 hover:shadow-xl transition-all hover:border-blue-400/50"
        >
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-blue-100 text-blue-700 text-xs font-bold uppercase tracking-wider mb-4"
          >
            Pragmatique
          </div>
          <h2 class="text-2xl font-bold text-slate-900 mb-2">Cas d'Usage</h2>
          <p class="text-slate-500 text-sm">
            Maintenance pr√©dictive, Sourcing, Qualit√©... <br />
            La "Conjugaison" cognitive appliqu√©e au terrain.
          </p>
          <div
            class="absolute bottom-4 right-4 text-4xl opacity-50 group-hover:scale-110 transition-transform"
          >
            üè≠
          </div>
        </a>

        <a
          href="/raise"
          class="group relative overflow-hidden rounded-3xl bg-slate-50 border border-slate-200 p-8 hover:shadow-xl transition-all md:col-span-1"
        >
          <div
            class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-200 text-slate-600 text-xs font-bold uppercase tracking-wider mb-4"
          >
            Technologie
          </div>
          <h2 class="text-2xl font-bold text-slate-900 mb-2">Moteur R.A.I.S.E.</h2>
          <p class="text-slate-500 text-sm">
            Powered by <strong>Rust</strong> & <strong>Tauri</strong>. <br />
            Performance native & S√ªret√© m√©moire.
          </p>
          <div
            class="mt-6 font-mono text-xs text-slate-500 bg-white p-2 rounded border border-slate-200 group-hover:border-rust/30 transition-colors"
          >
            > cargo build --release
          </div>
        </a>

        <a
          href="/architecture"
          class="group md:col-span-2 relative overflow-hidden rounded-3xl bg-white border border-slate-200 p-8 hover:shadow-xl transition-all hover:border-slate-400"
        >
          <div class="flex items-center justify-between relative z-10">
            <div>
              <div
                class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-wider mb-4"
              >
                Vision
              </div>
              <h2 class="text-2xl font-bold text-slate-900 mb-2">Architecture Globale</h2>
              <p class="text-slate-500 max-w-sm">
                Comprendre le flux complet : De l'Acquisition (Local) vers l'Ancrage de Preuve
                (Blockchain).
              </p>
            </div>
            <div
              class="text-5xl opacity-80 group-hover:rotate-12 transition-transform duration-300"
            >
              üìê
            </div>
          </div>
          <svg
            class="absolute bottom-0 left-0 w-full h-24 opacity-5 text-slate-900"
            viewBox="0 0 100 100"
            preserveAspectRatio="none"
          >
            <path d="M0 100 L0 50 Q50 0 100 50 L100 100 Z" fill="currentColor"></path>
          </svg>
        </a>
      </div>

      <section>
        <div class="flex items-center justify-between mb-8">
          <h3 class="text-2xl font-bold text-slate-900">Derni√®res Actualit√©s</h3>
          <a
            href="/blog"
            class="text-sm font-bold text-rust hover:text-orange-700 transition-colors"
            >Voir tout ‚Üí</a
          >
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {
            posts.map((post) => (
              <a href={`/blog/${post.id}/`} class="group block">
                <article class="bg-white rounded-xl border border-slate-100 p-6 hover:shadow-md transition-shadow h-full flex flex-col">
                  <h4 class="font-bold text-lg text-slate-800 group-hover:text-rust transition-colors mb-2">
                    {post.data.title}
                  </h4>
                  <p class="text-sm text-slate-400 mt-auto">
                    {post.data.pubDate.toLocaleDateString('fr-FR', {
                      year: 'numeric',
                      month: 'long',
                      day: 'numeric',
                    })}
                  </p>
                </article>
              </a>
            ))
          }
        </div>
      </section>
    </main>

    <Footer />
  </body>
</html>
