---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const title = 'Roadmap & Strat√©gie | R.A.I.S.E.';
const description =
  "De l'Alpha au MVP en 6 mois. Planning d'ex√©cution, jalons techniques et gestion des risques.";

const phases = [
  {
    period: 'Mois 1-2',
    name: 'Phase 1 : Fondations',
    status: 'En cours',
    desc: 'Stabilisation du Kernel Rust et de la persistance ACID.',
    agent_task: 'G√©n√©ration des structs Rust & Tests Unitaires.',
    milestones: ['API JSON-DB', 'Trait Mediator', 'Sandbox Wasm'],
    kpis: [
      { label: 'Test Coverage', value: '> 90%' },
      { label: 'Latence Write', value: '< 50¬µs' },
      { label: 'Unsafe Blocks', value: '0' },
    ],
  },
  {
    period: 'Mois 3-4',
    name: 'Phase 2 : Cognition',
    status: 'Planifi√©',
    desc: 'Int√©gration du moteur vectoriel SurrealDB et du RAG Local.',
    agent_task: 'Optimisation des embeddings & Validation crois√©e.',
    milestones: ['Moteur SurrealDB', 'Connecteur Vector', 'RAG Pipeline'],
    kpis: [
      { label: 'Compression', value: '-95%' },
      { label: 'Recall @10', value: '> 85%' },
      { label: 'Inference CPU', value: '< 200ms' },
    ],
  },
  {
    period: 'Mois 5-6',
    name: 'Phase 3 : Industrialisation',
    status: 'Planifi√©',
    desc: 'Packaging Tauri, Signature binaire et Audit de s√©curit√©.',
    agent_task: 'Simulation de charge & Pentest automatis√©.',
    milestones: ['Release v1.0', 'Signature Ed25519', 'Audit Externe'],
    kpis: [
      { label: 'Binary Size', value: '< 80MB' },
      { label: 'Cold Start', value: '< 300ms' },
      { label: 'Install Time', value: '< 1min' },
    ],
  },
];

// DATA : MATRICE DES RISQUES
const risks = [
  {
    id: 1,
    challenge: "Le risque d'Hallucination",
    context: 'Les LLMs inventent des faits plausibles mais faux.',
    mitigation: 'Architecture de Vote',
    details:
      'Le moteur Rust rejette toute proposition du LLM qui ne passe pas le seuil de consensus (Condorcet). Si doute = Silence.',
    icon: 'üëª',
  },
  {
    id: 2,
    challenge: "La Latence d'Inf√©rence",
    context: "L'IA locale peut √™tre lente sur CPU standard.",
    mitigation: 'Zero-Copy & Rust',
    details:
      "Pas de Garbage Collector. Utilisation de SurrealDB (Rust native) pour √©viter l'overhead Python/Torch. Optimisation SIMD (Single Instruction, Multiple Data).",
    icon: 'üê¢',
  },
  {
    id: 3,
    challenge: 'La Dette Technique',
    context: "L'hybridation complexifie la maintenance.",
    mitigation: 'Typage Fort & Sch√©ma',
    details:
      'Tout est typ√© strictement (Rust). Le compilateur bloque les erreurs logiques. JSON-LD garantit la structure des donn√©es.',
    icon: 'üèóÔ∏è',
  },
];
---

<!doctype html>
<html lang="fr" class="scroll-smooth">
  <head>
    <BaseHead title={title} description={description} />
  </head>
  <body class="bg-slate-50 text-slate-900 font-sans antialiased">
    <Header />

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
      <div class="text-center mb-20 animate-fade-in">
        <h1 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-6">
          Trajectoire vers la <span class="text-rust">v1.0</span>
        </h1>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto">
          Nous construisons une infrastructure critique, pas un gadget. Notre roadmap privil√©gie la <strong
            >s√©curit√©</strong
          > et la <strong>stabilit√©</strong> sur la vitesse de d√©ploiement.
        </p>
      </div>

      <div class="relative mb-32">
        <div class="absolute left-1/2 w-0.5 bg-slate-200 h-full -translate-x-1/2 hidden md:block">
        </div>

        <div class="space-y-12">
          {
            phases.map((phase, index) => (
              <div
                class={`flex flex-col md:flex-row items-center gap-8 ${index % 2 === 0 ? 'md:flex-row-reverse' : ''}`}
              >
                <div class="w-full md:w-1/2" />

                <div class="relative z-10 flex items-center justify-center w-12 h-12 bg-white border-4 border-slate-100 rounded-full shadow-sm">
                  <div
                    class={`w-4 h-4 rounded-full ${phase.status === 'En cours' ? 'bg-rust animate-pulse' : 'bg-slate-300'}`}
                  />
                </div>

                <div class="w-full md:w-1/2">
                  <div class="bg-white p-8 rounded-2xl shadow-lg border border-slate-100 hover:border-rust/30 transition-colors group">
                    <div class="flex justify-between items-start mb-4">
                      <span class="inline-block px-3 py-1 rounded bg-slate-100 text-slate-600 text-xs font-bold uppercase tracking-wider">
                        {phase.period}
                      </span>
                      <span
                        class={`text-xs font-bold ${phase.status === 'En cours' ? 'text-rust' : 'text-slate-400'}`}
                      >
                        {phase.status}
                      </span>
                    </div>

                    <h3 class="text-2xl font-bold text-slate-900 mb-2">{phase.name}</h3>
                    <p class="text-slate-600 mb-6">{phase.desc}</p>

                    <div class="bg-slate-50 rounded-lg p-4 mb-6 border border-slate-100">
                      <div class="text-[10px] uppercase text-slate-400 font-bold mb-2 flex items-center gap-2">
                        <span>ü§ñ R√¥le de l'Agent Dev</span>
                      </div>
                      <p class="text-sm text-slate-700 italic">"{phase.agent_task}"</p>
                    </div>

                    <div class="grid grid-cols-3 gap-4 border-t border-slate-100 pt-4">
                      {phase.kpis.map((kpi) => (
                        <div class="text-center">
                          <div class="text-lg font-black text-slate-800">{kpi.value}</div>
                          <div class="text-[9px] uppercase text-slate-400 font-bold">
                            {kpi.label}
                          </div>
                        </div>
                      ))}
                    </div>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
      </div>

      <section class="mb-24">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-slate-900 mb-4">Transparence sur les D√©fis</h2>
          <p class="text-slate-600 max-w-2xl mx-auto">
            Un projet d'ing√©nierie complexe comporte des risques. Voici comment notre architecture
            les adresse nativement.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          {
            risks.map((risk) => (
              <div class="bg-slate-900 rounded-2xl p-8 text-white relative overflow-hidden group">
                <div class="absolute top-0 right-0 p-4 opacity-10 text-6xl group-hover:scale-125 transition-transform duration-500">
                  {risk.icon}
                </div>

                <div class="relative z-10">
                  <div class="text-rust font-bold text-xs uppercase tracking-widest mb-2">
                    D√©fi #{risk.id}
                  </div>
                  <h3 class="text-xl font-bold mb-2">{risk.challenge}</h3>
                  <p class="text-slate-400 text-sm mb-6 border-l-2 border-slate-700 pl-3">
                    {risk.context}
                  </p>

                  <div class="bg-white/10 rounded-lg p-4 backdrop-blur-sm">
                    <div class="flex items-center gap-2 mb-2">
                      <span class="text-green-400 text-lg">‚úì</span>
                      <span class="font-bold text-sm text-green-100">
                        R√©ponse : {risk.mitigation}
                      </span>
                    </div>
                    <p class="text-xs text-slate-300 leading-relaxed">{risk.details}</p>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
      </section>

      <section
        class="bg-white border border-slate-200 rounded-[3rem] p-8 md:p-12 text-center shadow-xl"
      >
        <div class="max-w-3xl mx-auto">
          <h3 class="text-3xl font-bold text-slate-900 mb-6">Objectif : Zero "Vaporware"</h3>
          <p class="text-slate-600 mb-8 text-lg">
            Dans 6 mois, le syst√®me R.A.I.S.E. est livr√© sous forme d'un binaire unique, audit√© et
            document√©. Nous cherchons 3 partenaires pour valider la v1.0.
          </p>

          <div class="flex flex-col sm:flex-row justify-center gap-6 mb-8">
            <div class="bg-slate-50 px-6 py-4 rounded-xl border border-slate-100">
              <div class="text-2xl font-bold text-slate-900">100%</div>
              <div class="text-xs uppercase text-slate-500 font-bold">On-Premise</div>
            </div>
            <div class="bg-slate-50 px-6 py-4 rounded-xl border border-slate-100">
              <div class="text-2xl font-bold text-rust">Safe</div>
              <div class="text-xs uppercase text-slate-500 font-bold">Rust Core</div>
            </div>
            <div class="bg-slate-50 px-6 py-4 rounded-xl border border-slate-100">
              <div class="text-2xl font-bold text-slate-900">Open</div>
              <div class="text-xs uppercase text-slate-500 font-bold">Audit-Ready</div>
            </div>
          </div>

          <a
            href="/pilot"
            class="inline-flex items-center bg-slate-900 hover:bg-rust text-white font-bold py-4 px-10 rounded-full transition-all shadow-lg hover:shadow-xl group gap-2"
          >
            <span>Devenir Pilote Industriel</span>
            <span class="group-hover:translate-x-1 transition-transform">‚Üí</span>
          </a>
        </div>
      </section>
    </main>
    <Footer />
  </body>
</html>
