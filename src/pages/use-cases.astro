---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const title = 'Biblioth√®que de Mandats | R.A.I.S.E.';
const description =
  'Ne partez pas de z√©ro. D√©ployez des mod√®les de gouvernance pr√©-configur√©s pour votre industrie.';

// LES TEMPLATES (DONN√âES AVEC KPIs)
const templates = [
  {
    id: 'ind-seveso',
    category: 'INDUSTRIE LOURDE',
    title: 'Directive Seveso (Haut-Risque)',
    icon: 'üè≠',
    description:
      'Configuration stricte pour sites class√©s. Priorit√© absolue √† la s√©curit√© humaine et environnementale sur la continuit√© de service.',
    weights: [
      { agent: 'S√©curit√©', value: 5.0, color: 'text-rust' },
      { agent: 'Environnement', value: 4.0, color: 'text-green-600' },
      { agent: 'Finance', value: 1.0, color: 'text-slate-400' },
    ],
    vetos: 12,
    popularity: 'Top T√©l√©chargement',
    kpis: [
      { label: 'R√©action', val: '< 50ms' },
      { label: 'Faux N√©g.', val: '0%' },
      { label: 'Trace', val: '100%' },
    ],
  },
  {
    id: 'fin-hft',
    category: 'FINANCE DE MARCH√â',
    title: 'Trading Haute Fr√©quence',
    icon: 'üíπ',
    description:
      "Mod√®le optimis√© pour la latence ultra-faible. Les agents de conformit√© (SEC/AMF) ont un droit de veto, mais l'ex√©cution est prioritaire.",
    weights: [
      { agent: 'Performance', value: 4.5, color: 'text-blue-500' },
      { agent: 'Conformit√©', value: 3.0, color: 'text-purple-500' },
      { agent: 'Liquidit√©', value: 2.0, color: 'text-slate-400' },
    ],
    vetos: 5,
    popularity: '',
    kpis: [
      { label: 'Latence', val: '< 10¬µs' },
      { label: 'Tx/Sec', val: '> 50k' },
      { label: 'Rejets', val: 'Auto' },
    ],
  },
  {
    id: 'def-cyber',
    category: 'CYBER D√âFENSE',
    title: 'Sentinelle OIV (Op√©rateur Vital)',
    icon: 'üõ°Ô∏è',
    description:
      'Pour infrastructures critiques (H√¥pitaux, R√©seaux). Isolation r√©seau (Air-Gap) par d√©faut. Aucune sortie de donn√©e autoris√©e.',
    weights: [
      { agent: 'Confidentialit√©', value: 5.0, color: 'text-rust' },
      { agent: 'Int√©grit√©', value: 5.0, color: 'text-rust' },
      { agent: 'Disponibilit√©', value: 2.0, color: 'text-slate-400' },
    ],
    vetos: 24,
    popularity: 'Recommand√© ANSSI',
    kpis: [
      { label: 'Fuite Data', val: '0 bit' },
      { label: 'Faux Pos.', val: '< 0.1%' },
      { label: 'Detect.', val: '< 1s' },
    ],
  },
  {
    id: 'log-jit',
    category: 'LOGISTIQUE',
    title: 'Just-in-Time Optimizer',
    icon: 'üöö',
    description:
      '√âquilibre subtil entre co√ªt carburant et d√©lai de livraison. Autorise les d√©passements mineurs pour √©viter les ruptures de cha√Æne.',
    weights: [
      { agent: 'D√©lai', value: 3.0, color: 'text-orange-500' },
      { agent: 'Co√ªt', value: 2.5, color: 'text-green-600' },
      { agent: 'Qualit√©', value: 2.0, color: 'text-slate-400' },
    ],
    vetos: 3,
    popularity: '',
    kpis: [
      { label: 'Co√ªts', val: '-15%' },
      { label: 'OTIF', val: '99%' },
      { label: 'Recalcul', val: '200ms' },
    ],
  },
  {
    id: 'trans-rail',
    category: 'TRANSPORT (SIMULATION)',
    title: 'Gestion de Crise Ferroviaire',
    icon: 'üöÑ',
    description:
      "Arbitrage temps r√©el lors d'incidents de signalisation. Priorit√© absolue √† la s√©curit√© des passagers sur la fluidit√© du trafic.",
    weights: [
      { agent: 'S√©curit√©', value: 5.0, color: 'text-rust' },
      { agent: 'Fluidit√©', value: 3.5, color: 'text-blue-500' },
      { agent: 'Co√ªt', value: 1.0, color: 'text-slate-400' },
    ],
    vetos: 42,
    popularity: 'Standard SIL4',
    kpis: [
      { label: 'Accident', val: '0' },
      { label: 'Retards', val: '-20%' },
      { label: 'Reprise', val: '+30%' },
    ],
  },
  {
    id: 'def-tac',
    category: 'D√âFENSE OP√âRATIONNELLE',
    title: 'Engagement Tactique (SCCS)',
    icon: 'üéØ',
    description:
      "Respect des R√®gles d'Engagement (ROE) pour syst√®mes autonomes. Tir bloqu√© physiquement si l'identification Cible < 99.9%.",
    weights: [
      { agent: 'ROE (L√©gal)', value: 5.0, color: 'text-rust' },
      { agent: 'Mission', value: 3.0, color: 'text-blue-500' },
      { agent: 'Survie', value: 2.0, color: 'text-slate-400' },
    ],
    vetos: 150,
    popularity: 'Certifi√© OTAN (Sim)',
    kpis: [
      { label: 'ID Cible', val: '>99.9%' },
      { label: 'Tir Ami', val: '0%' },
      { label: 'Decision', val: '< 5ms' },
    ],
  },
];
---

<!doctype html>
<html lang="fr" class="scroll-smooth">
  <head>
    <BaseHead title={title} description={description} />
  </head>
  <body class="bg-slate-50 text-slate-900 font-sans antialiased">
    <Header />

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-20">
      <div class="text-center mb-12 animate-fade-in">
        <div
          class="inline-flex items-center gap-2 px-3 py-1 rounded border border-amber-200 bg-amber-50 text-amber-900 text-[10px] font-mono uppercase tracking-widest mb-6"
        >
          <span class="text-amber-600 animate-pulse">‚óè</span> Prototype v0.1.0
        </div>

        <h1 class="text-4xl md:text-6xl font-extrabold text-slate-900 mb-6">
          Biblioth√®que de <span
            class="text-transparent bg-clip-text bg-linear-to-r from-blue-600 to-rust">Mandats</span
          >
        </h1>
        <p class="text-xl text-slate-600 max-w-3xl mx-auto mb-10">
          Ne configurez pas l'IA √† la main. Appliquez des topologies <strong
            >M√©diateur / Agents</strong
          > certifi√©es pour votre industrie (Seveso, HFT, Cyber).
        </p>

        <div
          class="bg-amber-50 border-l-4 border-amber-500 p-4 rounded-r-xl max-w-3xl mx-auto text-left flex gap-4 shadow-sm"
        >
          <div class="text-2xl pt-1">üöß</div>
          <div>
            <h3 class="font-bold text-amber-900 text-sm uppercase tracking-wide mb-1">
              Projections &amp; Simulations
            </h3>
            <p class="text-sm text-amber-800/80 leading-snug">
              Les cas d'usage ci-dessous sont des <strong>exemples th√©oriques anonymis√©s</strong>.
              Ils illustrent la capacit√© cible du moteur R.A.I.S.E. √† r√©soudre des probl√®mes
              industriels complexes une fois le <strong>MVP (v1.0)</strong> d√©ploy√© en production.
            </p>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-24">
        {
          templates.map((tpl) => (
            <div class="bg-white rounded-3xl p-8 border border-slate-200 shadow-xl hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 group relative overflow-hidden flex flex-col">
              {/* Badge Popularit√© */}
              {tpl.popularity && (
                <div class="absolute top-0 right-0 bg-rust text-white text-[10px] font-bold px-3 py-1 rounded-bl-xl uppercase tracking-widest shadow-sm z-10">
                  {tpl.popularity}
                </div>
              )}

              <div class="flex items-start justify-between mb-6">
                <div class="flex items-center gap-4">
                  <div class="w-16 h-16 bg-slate-50 rounded-2xl flex items-center justify-center text-4xl border border-slate-100 shadow-inner group-hover:scale-110 transition-transform">
                    {tpl.icon}
                  </div>
                  <div>
                    <div class="text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-1">
                      {tpl.category}
                    </div>
                    <h3 class="text-xl font-bold text-slate-900 leading-tight">{tpl.title}</h3>
                  </div>
                </div>
              </div>

              <p class="text-slate-600 mb-6 h-16 leading-relaxed text-xs lg:text-sm line-clamp-3">
                {tpl.description}
              </p>

              {/* BLOC KPIs */}
              <div class="grid grid-cols-3 gap-2 mb-6 border-y border-slate-100 py-4">
                {tpl.kpis.map((kpi) => (
                  <div class="text-center">
                    <div class="text-lg font-black text-slate-800">{kpi.val}</div>
                    <div class="text-[9px] uppercase text-slate-400 font-bold tracking-wide">
                      {kpi.label}
                    </div>
                  </div>
                ))}
              </div>

              {/* Visualisation des Poids (Mini Equalizer) */}
              <div class="bg-slate-50 rounded-xl p-5 border border-slate-100 mb-8 grow">
                <div class="text-xs font-bold text-slate-400 uppercase mb-3 flex justify-between">
                  <span>Pond√©ration (Vote)</span>
                  <span>Priorit√©</span>
                </div>
                <div class="space-y-3">
                  {tpl.weights.map((w) => (
                    <div class="flex items-center gap-3">
                      <span class={`text-xs font-bold w-20 truncate ${w.color}`}>{w.agent}</span>
                      <div class="flex-1 h-2 bg-slate-200 rounded-full overflow-hidden">
                        <div
                          class={`h-full rounded-full ${w.color.replace('text-', 'bg-')}`}
                          style={`width: ${(w.value / 5) * 100}%`}
                        />
                      </div>
                    </div>
                  ))}
                </div>
              </div>

              {/* Footer Carte */}
              <div class="flex items-center justify-between mt-auto">
                <div class="flex items-center gap-2 text-xs text-slate-500">
                  <span class="w-2 h-2 rounded-full bg-red-500" />
                  <strong>{tpl.vetos}</strong> V√©tos Actifs
                </div>
                <button class="bg-slate-900 hover:bg-rust text-white text-xs font-bold py-2 px-4 rounded-lg transition-colors flex items-center gap-2 group">
                  <span>Inspecter</span>
                  <span class="group-hover:translate-x-1 transition-transform">‚Üí</span>
                </button>
              </div>
            </div>
          ))
        }
      </div>

      <div class="bg-slate-900 rounded-[3rem] p-12 text-center text-white relative overflow-hidden">
        <div
          class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"
        >
        </div>
        <div class="relative z-10">
          <h2 class="text-3xl font-bold mb-4">Votre cas est unique ?</h2>
          <p class="text-slate-300 mb-8 max-w-2xl mx-auto">
            Nos ing√©nieurs solutions peuvent mod√©liser votre "Topologie D√©cisionnelle" en 48h.
          </p>
          <a
            href="/contact"
            class="inline-flex items-center justify-center px-8 py-4 bg-white text-slate-900 font-bold rounded-full hover:bg-slate-100 transition-colors"
          >
            Demander un Audit Sur-Mesure
          </a>
        </div>
      </div>
    </main>
    <Footer />
  </body>
</html>
