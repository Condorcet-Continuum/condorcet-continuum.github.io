<svg width="800" height="900" viewBox="0 0 800 900" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
        </marker>
        <linearGradient id="groupGrad" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#f8fafc;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#f1f5f9;stop-opacity:1" />
        </linearGradient>
    </defs>

    <rect width="800" height="900" fill="#ffffff" />

    <rect x="50" y="40" width="700" height="120" rx="10" fill="url(#groupGrad)" stroke="#cbd5e1" stroke-width="1"
        stroke-dasharray="4 4" />
    <text x="70" y="70" font-family="sans-serif" font-size="12" font-weight="bold" fill="#475569"
        text-transform="uppercase">1. Couche Interface (Commandes)</text>

    <g transform="translate(300, 80)">
        <rect x="0" y="0" width="200" height="50" rx="6" fill="#0f172a" stroke="#0f172a" stroke-width="2" />
        <text x="100" y="30" font-family="sans-serif" font-size="14" font-weight="bold" fill="#ffffff"
            text-anchor="middle">Module de Commandes</text>
    </g>
    <rect x="520" y="90" width="110" height="30" rx="4" fill="#ffffff" stroke="#cbd5e1" />
    <text x="575" y="110" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">Cmds IA &amp;
        Sys</text>


    <rect x="50" y="220" width="700" height="180" rx="10" fill="url(#groupGrad)" stroke="#cbd5e1" stroke-width="1"
        stroke-dasharray="4 4" />
    <text x="70" y="250" font-family="sans-serif" font-size="12" font-weight="bold" fill="#475569"
        text-transform="uppercase">2. Moteurs Cœur (Logique)</text>

    <g transform="translate(100, 280)">
        <rect width="140" height="60" rx="6" fill="#ffffff" stroke="#ce4a18" stroke-width="2" />
        <text x="70" y="25" font-family="sans-serif" font-size="13" font-weight="bold" fill="#0f172a"
            text-anchor="middle">Moteur de</text>
        <text x="70" y="45" font-family="sans-serif" font-size="13" font-weight="bold" fill="#0f172a"
            text-anchor="middle">Workflow</text>
    </g>

    <g transform="translate(280, 280)">
        <rect width="140" height="60" rx="6" fill="#ffffff" stroke="#3b82f6" stroke-width="2" />
        <text x="70" y="25" font-family="sans-serif" font-size="12" font-weight="bold" fill="#0f172a"
            text-anchor="middle">Moteur de Modèle</text>
        <text x="70" y="45" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">(Arcadia)</text>
    </g>

    <g transform="translate(460, 280)">
        <rect width="120" height="40" rx="6" fill="#ffffff" stroke="#64748b" stroke-width="1" />
        <text x="60" y="25" font-family="sans-serif" font-size="12" fill="#0f172a" text-anchor="middle">Génétique</text>
    </g>
    <g transform="translate(600, 280)">
        <rect width="120" height="40" rx="6" fill="#ffffff" stroke="#64748b" stroke-width="1" />
        <text x="60" y="25" font-family="sans-serif" font-size="12" fill="#0f172a" text-anchor="middle">Gén. de
            Code</text>
    </g>
    <g transform="translate(460, 340)">
        <rect width="120" height="40" rx="6" fill="#ffffff" stroke="#64748b" stroke-width="1" />
        <text x="60" y="25" font-family="sans-serif" font-size="12" fill="#0f172a" text-anchor="middle">Moteur de
            Règles</text>
    </g>


    <rect x="50" y="450" width="700" height="180" rx="10" fill="url(#groupGrad)" stroke="#cbd5e1" stroke-width="1"
        stroke-dasharray="4 4" />
    <text x="70" y="480" font-family="sans-serif" font-size="12" font-weight="bold" fill="#475569"
        text-transform="uppercase">3. Couche Intelligence (IA &amp; NLP)</text>

    <g transform="translate(100, 500)">
        <rect width="120" height="50" rx="6" fill="#ffffff" stroke="#0f172a" stroke-width="1" />
        <text x="60" y="30" font-family="sans-serif" font-size="13" font-weight="bold" fill="#0f172a"
            text-anchor="middle">Orchestrateur</text>
    </g>

    <g transform="translate(280, 500)">
        <rect width="120" height="50" rx="6" fill="#ffffff" stroke="#ce4a18" stroke-width="2" />
        <text x="60" y="20" font-family="sans-serif" font-size="12" font-weight="bold" fill="#0f172a"
            text-anchor="middle">Système</text>
        <text x="60" y="38" font-family="sans-serif" font-size="10" fill="#ce4a18"
            text-anchor="middle">Multi-Agents</text>
    </g>

    <g transform="translate(450, 500)">
        <rect width="100" height="50" rx="6" fill="#ffffff" stroke="#64748b" stroke-width="1" />
        <text x="50" y="30" font-family="sans-serif" font-size="11" fill="#0f172a" text-anchor="middle">Contexte &amp;
            RAG</text>
    </g>

    <g transform="translate(580, 500)">
        <rect width="100" height="50" rx="6" fill="#ffffff" stroke="#64748b" stroke-width="1" />
        <text x="50" y="30" font-family="sans-serif" font-size="11" fill="#0f172a" text-anchor="middle">NLP &amp;
            Embed</text>
    </g>

    <g transform="translate(580, 570)">
        <rect width="100" height="40" rx="6" fill="#0f172a" stroke="#0f172a" stroke-width="1" />
        <text x="50" y="25" font-family="sans-serif" font-size="12" font-weight="bold" fill="#ffffff"
            text-anchor="middle">Client LLM</text>
    </g>


    <rect x="50" y="680" width="700" height="150" rx="10" fill="url(#groupGrad)" stroke="#cbd5e1" stroke-width="1"
        stroke-dasharray="4 4" />
    <text x="70" y="710" font-family="sans-serif" font-size="12" font-weight="bold" fill="#475569"
        text-transform="uppercase">4. Infrastructure &amp; Souveraineté</text>

    <g transform="translate(100, 740)">
        <path
            d="M0,10 C0,5 60,0 120,5 C180,10 180,15 120,20 C60,25 0,20 0,15 Z M0,15 L0,55 C0,60 60,65 120,60 C180,55 180,50 180,45 L180,15"
            fill="#ffffff" stroke="#64748b" stroke-width="1" />
        <text x="90" y="40" font-family="sans-serif" font-size="12" font-weight="bold" fill="#0f172a"
            text-anchor="middle">JSON-DB</text>
    </g>

    <g transform="translate(320, 740)">
        <rect width="140" height="50" rx="6" fill="#ffffff" stroke="#ce4a18" stroke-width="2" />
        <text x="70" y="20" font-family="sans-serif" font-size="12" font-weight="bold" fill="#0f172a"
            text-anchor="middle">Traçabilité</text>
        <text x="70" y="38" font-family="sans-serif" font-size="10" fill="#ce4a18" text-anchor="middle">&amp;
            Conformité</text>
    </g>

    <g transform="translate(520, 740)">
        <rect width="120" height="50" rx="6" fill="#ffffff" stroke="#64748b" stroke-width="1" />
        <text x="60" y="20" font-family="sans-serif" font-size="12" fill="#0f172a"
            text-anchor="middle">Blockchain</text>
        <text x="60" y="38" font-family="sans-serif" font-size="10" fill="#64748b" text-anchor="middle">(Fabric)</text>
    </g>


    <g stroke="#64748b" stroke-width="2" fill="none" marker-end="url(#arrow)">
        <path d="M 400,130 L 400,205 L 170,205 L 170,280" />
        <path d="M 400,130 L 400,205 L 350,205 L 350,280" />
        <path d="M 400,130 L 400,205 L 520,205 L 520,280" />

        <path d="M 170,340 L 170,500" />

        <path d="M 220,525 L 280,525" />
        <path d="M 160,550 L 160,580 L 480,580 L 480,550" stroke-dasharray="2 2" />

        <path d="M 420,310 L 440,310 L 440,250 L 660,250 L 660,280" />

        <path d="M 320,340 L 320,400 L 80,400 L 80,770 L 100,770" />

        <path d="M 340,550 L 340,650 L 390,650 L 390,740" stroke="#ce4a18" />

        <path d="M 140,340 L 140,430 L 260,430 L 260,765 L 320,765" opacity="0.5" />

        <path d="M 460,765 L 520,765" stroke="#ce4a18" />

        <path d="M 550,525 L 580,525" />
        <path d="M 630,550 L 630,570" />
    </g>

</svg>